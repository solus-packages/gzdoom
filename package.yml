name       : gzdoom
version    : 2.2.0
release    : 1
source     :
    - https://github.com/coelckers/gzdoom/archive/g2.2.0.tar.gz : d47f9adba55d695fac938ccd43a734a6ecb34fb5e96090c8e8a88278b8cab342
license    :
    - BSD-3-Clause
    - LGPL-3.0
    - MIT
component  : games.action
summary    : A port of id Software's original Linux Doom source code to Win32 and Linux
description: |
    A port of id Software's original Linux Doom source code to Win32 and Linux
builddeps  :
    - pkgconfig(gl)
    - pkgconfig(gtk+-2.0)
    - pkgconfig(sndfile)
    - pkgconfig(openal)
    - pkgconfig(sdl2)
    - imagemagick
setup      : |
    %cmake .
build      : |
    %make
install    : |
    install -d $installdir/usr/share/gzdoom
    cp *.pk3 $installdir/usr/share/gzdoom
    chmod -R 00644 $installdir/usr/share/gzdoom
    install -m 00755 gzdoom $installdir/usr/share/gzdoom/gzdoom
    install -d $installdir/usr/share/pixmaps
    convert 'src/win32/icon1.ico[2]' $installdir/usr/share/pixmaps/gzdoom.png
    install -D -m 00644 $pkgfiles/gzdoom.desktop $installdir/usr/share/applications/gzdoom.desktop